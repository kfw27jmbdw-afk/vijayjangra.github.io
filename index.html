<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Image Host Upload</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      text-align: center;
      padding-top: 40px;
    }
    .box {
      background: white;
      padding: 20px;
      width: 400px;
      margin: auto;
      border-radius: 10px;
      box-shadow: 0px 0px 10px #ccc;
    }
    input[type=file] {
      margin: 15px 0;
    }
  </style>
</head>
<body>

<div class="box">
  <h2>Upload Image (max 10MB)</h2>
  <input type="file" id="imageFile" accept="image/*" />
  <br>
  <button onclick="uploadImage()">Upload</button>
  <p id="result"></p>
</div>

<script>
async function uploadImage() {
    const file = document.getElementById("imageFile").files[0];
    if (!file) return alert("Please select an image.");

    if (file.size > 10 * 1024 * 1024) {
        return alert("Image exceeds 10MB limit.");
    }

    const repo = "YOUR_USERNAME/YOUR_REPO";
    const path = "uploads/" + file.name;
    const token = "YOUR_GITHUB_PERSONAL_ACCESS_TOKEN";

    document.getElementById("result").innerHTML = "Uploading...";

    const content = await file.arrayBuffer();
    const base64Data = btoa(String.fromCharCode(...new Uint8Array(content)));

    const response = await fetch(`https://api.github.com/repos/${repo}/contents/${path}`, {
        method: "PUT",
        headers: {
            "Content-Type": "application/json",
            "Authorization": `token ${token}`
        },
        body: JSON.stringify({
            message: "Uploaded image",
            content: base64Data
        })
    });

    const data = await response.json();

    if (data.content && data.content.download_url) {
        document.getElementById("result").innerHTML = `
            <strong>Upload Successful!</strong><br>
            <a href="${data.content.download_url}" target="_blank">
                Download Image
            </a>
        `;
    } else {
        document.getElementById("result").textContent = "Upload failed.";
        console.error(data);
    }
}
</script>

</body>
</html>